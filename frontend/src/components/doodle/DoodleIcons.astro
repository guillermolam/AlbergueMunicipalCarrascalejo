---
/**
 * DoodleIcons - Hand-drawn style SVG icons
 * Collection of sketchy, playful icons for the Albergue brand
 */

export interface Props {
  name:
    | 'bed'
    | 'calendar'
    | 'user'
    | 'check'
    | 'x'
    | 'arrow-right'
    | 'arrow-left'
    | 'home'
    | 'map'
    | 'camera'
    | 'heart'
    | 'star'
    | 'info'
    | 'warning'
    | 'menu'
    | 'search'
    | 'backpack'
    | 'boot'
    | 'shell'
    | 'mountain';
  size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';
  class?: string;
  strokeWidth?: number;
}

const {
  name,
  size = 'md',
  class: className = '',
  strokeWidth = 2,
} = Astro.props;

// Size mappings
const sizeMap = {
  xs: 16,
  sm: 20,
  md: 24,
  lg: 32,
  xl: 48,
};

const iconSize = sizeMap[size];

// Hand-drawn icon paths (rough, sketchy style)
const icons = {
  bed: 'M3 13h18M3 17h18M3 13V9a2 2 0 012-2h4a2 2 0 012 2v4m4-4v4m0-4a2 2 0 012-2h4a2 2 0 012 2v4M5 21V13m14 8V13',
  calendar: 'M8 2v4M16 2v4M4 8h16M6 6h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2zm3 8h.01M12 14h.01M16 14h.01M9 18h.01M12 18h.01M16 18h.01',
  user: 'M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2M12 11a4 4 0 100-8 4 4 0 000 8z',
  check: 'M5 13l4 4L19 7',
  x: 'M6 6l12 12M6 18L18 6',
  'arrow-right': 'M5 12h14m-7-7l7 7-7 7',
  'arrow-left': 'M19 12H5m7 7l-7-7 7-7',
  home: 'M3 12l9-9 9 9M5 10v10a1 1 0 001 1h3a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1h3a1 1 0 001-1V10',
  map: 'M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7',
  camera: 'M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z M15 13a3 3 0 11-6 0 3 3 0 016 0z',
  heart: 'M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z',
  star: 'M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z',
  info: 'M12 2a10 10 0 100 20 10 10 0 000-20zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z',
  warning: 'M12 2L2 20h20L12 2zm0 6v6m0 2v2',
  menu: 'M4 6h16M4 12h16M4 18h16',
  search: 'M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z',
  backpack: 'M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2M5 6h14a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2zm3 4h8m-8 4h8',
  boot: 'M8 3v5H6L4 18v3h16v-3l-2-10h-2V3H8zm0 8h8',
  shell: 'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z',
  mountain: 'M3 20h18L14 4 9 13l-2-3-4 10z',
};

const iconPath = icons[name] || icons.home;
---

<svg
  xmlns="http://www.w3.org/2000/svg"
  width={iconSize}
  height={iconSize}
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width={strokeWidth}
  stroke-linecap="round"
  stroke-linejoin="round"
  class={`doodle-icon inline-block ${className}`}
  aria-hidden="true"
>
  <path d={iconPath} class="doodle-path" />
</svg>

<style>
  /* Hand-drawn icon styling */
  .doodle-icon {
    filter: url(#rough-filter);
  }

  /* Animate on hover */
  .doodle-icon:hover .doodle-path {
    animation: wiggle 0.5s ease-in-out;
  }

  @keyframes wiggle {
    0%, 100% {
      transform: translateX(0) rotate(0deg);
    }
    25% {
      transform: translateX(-1px) rotate(-2deg);
    }
    75% {
      transform: translateX(1px) rotate(2deg);
    }
  }

  /* Disable animations for reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    .doodle-icon:hover .doodle-path {
      animation: none;
    }
  }
</style>

<!-- SVG filter for hand-drawn effect -->
<svg width="0" height="0" style="position: absolute; pointer-events: none;">
  <defs>
    <filter id="rough-filter">
      <feTurbulence
        type="fractalNoise"
        baseFrequency="0.8"
        numOctaves="4"
        result="noise"
      />
      <feDisplacementMap
        in="SourceGraphic"
        in2="noise"
        scale="1.5"
        xChannelSelector="R"
        yChannelSelector="G"
      />
    </filter>
  </defs>
</svg>
