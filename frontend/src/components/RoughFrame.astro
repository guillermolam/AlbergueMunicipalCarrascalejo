---
export type Padding = 'sm' | 'md' | 'lg';
export type Texture = 'none' | 'hachure' | 'cross-hatch';
export type ElementType = 'div' | 'a' | 'button';

export interface Props {
  padding?: Padding;
  texture?: Texture;
  textureOpacity?: number;
  radius?: number;
  roughness?: number;
  bowing?: number;
  strokeWidth?: number;
  seed?: number;
  hover?: boolean;
  as?: ElementType;
  href?: string;
  type?: 'button' | 'submit';
  class?: string;
}

const {
  padding = 'md',
  texture = 'hachure',
  textureOpacity = 0.12,
  radius = 18,
  roughness = 2.4,
  bowing = 1.2,
  strokeWidth = 2.2,
  seed = 7,
  hover = false,
  as = 'div',
  href,
  type,
  class: className = '',
}: Props = Astro.props;

const paddingClasses: Record<Padding, string> = {
  sm: 'p-3',
  md: 'p-4',
  lg: 'p-6',
};

const Tag = as;
---

<Tag
  data-rough-frame
  data-rough-texture={texture}
  data-rough-texture-opacity={textureOpacity}
  data-rough-radius={radius}
  data-rough-roughness={roughness}
  data-rough-bowing={bowing}
  data-rough-stroke-width={strokeWidth}
  data-rough-seed={seed}
  {...hover && { 'data-rough-hover': true }}
  {...href && { href }}
  {...type && { type }}
  class={`relative ${paddingClasses[padding]} ${className}`}
>
  <svg data-rough-svg class="absolute inset-0 w-full h-full pointer-events-none" aria-hidden="true"
  ></svg>
  <div class="relative z-1">
    <slot />
  </div>
</Tag>
